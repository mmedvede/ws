#! /usr/bin/env bash
# Generate workspace rc.

set -e
set -u

if [ $# -ne 1 ]; then
  echo "Usage: $(basename $0) <PATH_TO_WORKSPACE>" 1>&2
  exit 1
fi

get_workspace_rc(){
  __t="'"$1"'"
echo -n '# ROS WORKSPACE SETTING
# THIS IS A FILE AUTO-GENERATED BY WORKSPACE/INITIALIZE OR WS
# IT IS NOT A PART OF STANDARD ROS
# IT IS UNLIKELY YOU WANT TO EDIT THIS FILE BY HAND
# THE FILE IS USED BY ROS_ENV.SH TO SETUP THE ENVIRONMENT
# IF WS SWITCH IS NOT AVAILABLE EDIT THE ROS_WORKSPACE
# TO SWITCH TO A NEW WORKSPACE
export ROS_WORKSPACE='$__t'

# Stop for non-interactive shells 
# Keep it more portable (no double brackets)
if [ "$-" = "*i*" ]; then return 0; fi
 
source $ROS_WORKSPACE/setup.bash'
}

get_workspace_rc $1
